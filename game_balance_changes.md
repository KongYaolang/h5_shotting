# EverWing 游戏平衡性与龙升级系统更新

## 永久道具爆率优化

1. **引入怜悯系统（Pity System）**
   - 连续多波没有获得永久道具时，爆率会逐渐提高
   - 每波未获得永久道具增加5%爆率，最高可增加30%
   - Boss怪物未掉落永久道具时会触发怜悯计数器增加

2. **波数相关爆率提升**
   - 每8波增加5%爆率，最高可增加25%（原为每10波增加4%）
   - 第20波后额外增加5%永久道具爆率
   - 第40波后再额外增加10%永久道具爆率

3. **普通怪物掉落机会**
   - 普通怪物和小怪现在也有小概率掉落永久道具
   - 普通怪物：2%基础爆率 + 怜悯系统加成
   - 小怪：1%基础爆率 + 怜悯系统加成

4. **金币掉落量调整**
   - 金币掉落量现在会随波数增加而提高
   - 第10波后，金币掉落量 = 基础掉落量 * (1 + 波数/50)

## 龙升级系统实现

1. **经验值系统**
   - 龙现在有经验值和等级系统，最高10级
   - 击杀怪物获得经验值：
     - Boss：50经验
     - 精英：15经验
     - 小怪：3经验
     - 普通怪物：5经验
   - 经验值会随波数增加而提高：基础经验 * (1 + 波数/10 * 0.2)

2. **等级提升效果**
   - 每级提升伤害：伤害 = 等级值
   - 每级提升攻击速度：攻击间隔减少2帧，最低15帧
   - 龙魂需求从5个降低到3个，更容易升级

3. **视觉反馈**
   - 添加等级显示：在龙上方显示当前等级
   - 添加经验条：显示当前经验进度
   - 升级特效：升级时有发光和脉动效果
   - 升级文字提示：显示"龙升级! Lv[等级]"

## 游戏平衡性调整

1. **怪物生命值调整**
   - Boss：60 + 每3波增加15（原为80 + 每5波增加20）
   - 精英：8 + 每5波增加3（原为10 + 每10波增加5）
   - 小怪：2 + 每10波增加1（原为3 + 每10波增加1）
   - 普通怪物：4 + 每7波增加2（原为5 + 每10波增加2）

2. **Boss出现频率与攻击调整**
   - Boss现在每10波出现一次（原为每5波）
   - Boss基础攻击间隔调整为180帧（3秒，原为2秒）
   - Boss低血量时攻击间隔为150帧（2.5秒，原为1.67秒）
   - Boss中等血量时攻击间隔为240帧（4秒，原为3秒）

3. **怪物数量动态调整**
   - 第10波后，每5波增加1个怪物，最多8个
   - 精英怪物出现概率更平衡：5% + 每波增加1.5%，最高30%
   - 小怪出现概率调整：10% + 每波增加1%，最高25%

4. **精英怪物生成逻辑**
   - 在非Boss波的每3波会在中间位置生成一个精英怪物

这些变更旨在使游戏更加平衡，提供更流畅的进度感，并确保龙的升级系统能够为玩家提供明显的成长感和成就感。 